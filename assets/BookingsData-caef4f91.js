import{_ as E}from"./AppPage.vue_vue_type_script_setup_true_lang-a4bc8d10.js";import{a as R}from"./AppBreadcrumb.vue_vue_type_script_setup_true_lang-e9c44354.js";import{_ as F}from"./chevron-left-448085ef.js";import{_ as G}from"./SrcLink.vue_vue_type_script_setup_true_lang-2a208c5a.js";import{_ as j}from"./vue-f225a2a3.js";import{f as H,k as u,T as I,M as Q,y as U,a1 as O,Q as x,l as z,r as d,o as m,d as _,w as o,j as P,a,e as s,b as e,t as p,i as Y,a2 as $}from"./index-e03d9f34.js";const q=e("svg",{class:"w-5 h-5 mr-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})],-1),J={class:"text-gray-900"},K=e("span",{class:"hidden lg:inline"},"Room ",-1),W=["innerHTML"],X=e("span",{class:"hidden lg:inline"}," Date",-1),Z=e("span",{class:"hidden lg:inline"}," Date",-1),ee={class:"mt-5 flex justify-between items-center"},te={class:"flex justify-between"},oe=e("div",{class:"mx-4 text-gray-400"},"|",-1),ne=e("div",{class:"mt-12"},[e("h2",{class:"mb-5 sm:text-3xl text-gray-700"},[e("a",{class:"text-green-600 hover:text-green-800",href:"https://docs.servicestack.net/vue/"},"Vue Component Library")]),e("iframe",{class:"youtube",src:"https://www.youtube.com/embed/YIa0w6whe2U",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""})],-1),ue=H({__name:"BookingsData",setup(se){const g=u(!1),i=u(),l=u(),v=u([]),h=I(),{currency:w}=$(),{hasRole:b}=Q(),B=U(()=>b("Manager"));async function f(){const n=await h.api(new x);n.succeeded&&(v.value=n.response.results||[])}function y(n={}){g.value=n.create??!1,i.value=n.editId??void 0}function c(){f(),y()}return O(i,async()=>{if(i.value){const n=await h.api(new x({id:i.value}));if(n.succeeded){l.value=n.response.results[0];return}}l.value=null}),z(f),(n,r)=>{const D=d("AutoCreateForm"),C=d("AutoEditForm"),V=d("OutlineButton"),L=d("DataGrid"),M=j,N=G,S=F,k=d("RouterLink"),T=R,A=E;return m(),_(A,{title:"Bookings DataGrid",class:"sm:max-w-fit"},{default:o(()=>[g.value?(m(),_(D,{key:0,type:"CreateBooking",onDone:c,onSave:c})):l.value?(m(),_(C,{key:1,type:"UpdateBooking",deleteType:B.value?"DeleteBooking":null,modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),onDone:c,onSave:c,onDelete:c},null,8,["deleteType","modelValue"])):P("",!0),a(V,{onClick:r[1]||(r[1]=()=>y({create:!0}))},{default:o(()=>[q,s(" New Booking ")]),_:1}),a(L,{items:v.value,"visible-from":{name:"xl",bookingStartDate:"sm",bookingEndDate:"xl"},onRowSelected:r[2]||(r[2]=t=>i.value=i.value==t.id?null:t.id),"is-selected":t=>i.value==t.id},{id:o(({id:t})=>[e("span",J,p(t),1)]),name:o(({name:t})=>[s(p(t),1)]),"roomNumber-header":o(()=>[K,s("No ")]),cost:o(({cost:t})=>[e("span",{innerHTML:Y(w)(t)},null,8,W)]),"bookingStartDate-header":o(()=>[s(" Start"),X]),"bookingEndDate-header":o(()=>[s(" End"),Z]),"createdBy-header":o(()=>[s(" Employee ")]),createdBy:o(({createdBy:t})=>[s(p(t),1)]),_:1},8,["items","is-selected"]),e("div",ee,[e("div",null,[a(M,{class:"w-5 h-5 inline"}),a(N,{href:"https://github.com/NetCoreTemplates/vue-vite/blob/main/ui/src/pages/BookingsData.vue"})]),e("div",te,[e("div",null,[a(S,{class:"text-gray-400 w-6 h-6 inline","aria-hidden":"true"}),a(k,{class:"text-gray-400 hover:text-gray-600",to:"/bookings"},{default:o(()=>[s("Bookings AutoQueryGrid")]),_:1})]),oe,e("div",null,[a(k,{class:"text-gray-400 hover:text-gray-600",to:"/bookings-crud"},{default:o(()=>[s("Custom Bookings")]),_:1}),a(T,{class:"text-gray-400 w-6 h-6 inline","aria-hidden":"true"})])])]),ne]),_:1})}}});export{ue as default};
