import{_ as R}from"./AppPage.vue_vue_type_script_setup_true_lang-e66c2df8.js";import{a as T}from"./AppBreadcrumb.vue_vue_type_script_setup_true_lang-7cec0a68.js";import{_ as F}from"./SrcLink.vue_vue_type_script_setup_true_lang-67ef4345.js";import{_ as G}from"./vue-688eb579.js";import{f as Q,k as d,y as H,L as I,x as j,a2 as z,Q as k,l as O,r as u,o as m,d as p,w as o,i as w,j as P,a as r,e as n,b as t,t as _,a3 as U}from"./index-57927476.js";const q=t("svg",{class:"w-5 h-5 mr-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[t("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})],-1),$={class:"text-gray-900"},J=t("span",{class:"hidden lg:inline"},"Room ",-1),K=["innerHTML"],W=t("span",{class:"hidden lg:inline"}," Date",-1),X=t("span",{class:"hidden lg:inline"}," Date",-1),Y={class:"mt-5 flex justify-between items-center"},Z=t("div",{class:"mt-12"},[t("h2",{class:"mb-5 sm:text-3xl text-gray-700"},[n(" Vue "),t("a",{class:"text-green-600 hover:text-green-800",href:"https://docs.servicestack.net/vue/gallery/autoquerygrid"},"AutoQueryGrid"),n(" Component ")]),t("iframe",{class:"youtube",src:"https://www.youtube.com/embed/znCoC-Ct0Ps",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""})],-1),ie=Q({__name:"Bookings",setup(ee){const g=d(!1),a=d(),l=d(),v=d([]),h=H(),{currency:x}=U(),{hasRole:b}=I(),B=j(()=>b("Manager"));async function f(){const s=await h.api(new k);s.succeeded&&(v.value=s.response.results||[])}function y(s={}){g.value=s.create??!1,a.value=s.editId??void 0}function c(){f(),y()}return z(a,async()=>{if(a.value){const s=await h.api(new k({id:a.value}));if(s.succeeded){l.value=s.response.results[0];return}}l.value=null}),O(f),(s,i)=>{const C=u("AutoCreateForm"),D=u("AutoEditForm"),V=u("OutlineButton"),N=u("DataGrid"),S=G,A=F,L=u("RouterLink"),E=T,M=R;return m(),p(M,{title:"Bookings AutoQueryGrid",class:"sm:max-w-fit"},{default:o(()=>[g.value?(m(),p(C,{key:0,type:"CreateBooking",onDone:c,onSave:c})):l.value?(m(),p(D,{key:1,type:"UpdateBooking",deleteType:w(B)?"DeleteBooking":null,modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e),onDone:c,onSave:c,onDelete:c},null,8,["deleteType","modelValue"])):P("",!0),r(V,{onClick:i[1]||(i[1]=()=>y({create:!0}))},{default:o(()=>[q,n(" New Booking ")]),_:1}),r(N,{items:v.value,"visible-from":{name:"xl",bookingStartDate:"sm",bookingEndDate:"xl"},onRowSelected:i[2]||(i[2]=e=>a.value=a.value==e.id?null:e.id),"is-selected":e=>a.value==e.id},{id:o(({id:e})=>[t("span",$,_(e),1)]),name:o(({name:e})=>[n(_(e),1)]),"roomNumber-header":o(()=>[J,n("No ")]),cost:o(({cost:e})=>[t("span",{innerHTML:w(x)(e)},null,8,K)]),"bookingStartDate-header":o(()=>[n(" Start"),W]),"bookingEndDate-header":o(()=>[n(" End"),X]),"createdBy-header":o(()=>[n(" Employee ")]),createdBy:o(({createdBy:e})=>[n(_(e),1)]),_:1},8,["items","is-selected"]),t("div",Y,[t("div",null,[r(S,{class:"w-5 h-5 inline"}),r(A,{href:"https://github.com/NetCoreTemplates/vue-vite/blob/main/ui/src/pages/Bookings.vue"})]),t("div",null,[r(L,{class:"text-gray-400 hover:text-gray-600",to:"/bookings-crud"},{default:o(()=>[n("Custom Bookings")]),_:1}),r(E,{class:"text-gray-400 w-6 h-6 inline","aria-hidden":"true"})])]),Z]),_:1})}}});export{ie as default};
